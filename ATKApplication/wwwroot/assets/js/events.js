import{r,j as e,S as x,c as j,R as u}from"./Sidebar-chunk.js";function p(){const[s,c]=r.useState([]),[n,i]=r.useState(!0),[a,d]=r.useState(null);return r.useEffect(()=>{(async()=>{const o="/api/ref/events";try{const l=await fetch(o);if(!l.ok)throw new Error("Ошибка при загрузке данных");const h=await l.json();c(h)}catch(l){d(l.message)}finally{i(!1)}})()},[]),n?e.jsx("div",{children:e.jsx("h3",{children:" Загрузка данных c сервера..."})}):a?e.jsx("div",{children:e.jsxs("h3",{children:[" Error: ",a]})}):e.jsx(e.Fragment,{children:s.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.themeCode}),e.jsx("td",{children:t.eventStatus}),e.jsx("td",{children:t.name}),e.jsx("td",{children:t.date}),e.jsx("td",{children:t.participantsCount}),e.jsx("td",{children:t.level}),e.jsx("td",{children:t.form}),e.jsx("td",{children:t.isValuable}),e.jsx("td",{children:t.isBestPractice}),e.jsx("td",{children:e.jsx("a",{href:`/events/${t.id}`,children:"Подробнее"})})]},t.id))})}const f=()=>e.jsx("div",{className:"table-container",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"№ темы"}),e.jsx("th",{children:"Статус мероприятия"}),e.jsx("th",{children:"Наименование"}),e.jsx("th",{children:"Дата"}),e.jsx("th",{children:"Количество участников"}),e.jsx("th",{children:"Уровень проведения"}),e.jsx("th",{children:"Форма проведения"}),e.jsx("th",{children:"Значимое"}),e.jsx("th",{children:"Лучшее"}),e.jsx("th",{children:"Управление"})]})}),e.jsx("tbody",{children:e.jsx(p,{})})]})}),m=()=>{const[s,c]=r.useState(""),[n,i]=r.useState(""),a=t=>c(t.target.value),d=t=>i(t.target.value);return e.jsxs("header",{className:"control-panel",children:[e.jsx("input",{type:"text",placeholder:"Поиск мероприятий...",value:s,onChange:a}),e.jsxs("select",{value:n,onChange:d,children:[e.jsx("option",{value:"",children:"Фильтрация по статусу"}),e.jsx("option",{value:"active",children:"Активные"}),e.jsx("option",{value:"closed",children:"Завершенные"})]}),e.jsx("button",{type:"button",onClick:()=>window.location.href="/create",children:"Создать мероприятие"})]})};function g(){const[s,c]=r.useState(!1),n=()=>c(!s);return e.jsxs("div",{className:"App",children:[!s&&e.jsx("button",{className:"menu-toggle",onClick:n,children:"☰"}),e.jsx(x,{isOpen:s,toggleSidebar:n}),e.jsx(m,{}),e.jsx(f,{})]})}const S=document.getElementById("root"),b=j.createRoot(S);b.render(e.jsxs(u.StrictMode,{children:[e.jsx(g,{})," "]}));
